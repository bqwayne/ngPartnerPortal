{"version":3,"file":"input-container.js","sourceRoot":"","sources":["../../../src/lib/input/input-container.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Input,\n  Directive,\n  AfterContentInit,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  QueryList,\n  ViewEncapsulation,\n  Optional,\n  Output,\n  EventEmitter,\n  Renderer,\n  OnChanges,\n  SimpleChange,\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {coerceBooleanProperty} from '../core';\nimport {getSupportedInputTypes} from '../core/platform/features';\nimport {\n  VdlInputContainerUnsupportedTypeError,\n  VdlInputContainerMissingVdlInputError\n} from './input-container-errors';\n\nimport {VdlIconRegistry} from '../icon/icon-registry';\nimport {VdlPopoverPredefined} from '../popover/popover-predefined';\n\n\n// Invalid input type. Using one of these will throw an VdlInputContainerUnsupportedTypeError.\nconst VDL_INPUT_INVALID_TYPES = [\n  'button',\n  'checkbox',\n  'color',\n  'file',\n  'hidden',\n  'image',\n  'radio',\n  'range',\n  'reset',\n  'submit'\n];\n\n\nlet nextUniqueId = 0;\n\n@Directive({\n  selector: 'vdl-char-count',\n  host: {\n    'class': 'vdl-char-count',\n    '[class.vdl-right]': 'align == \"end\"',\n  }\n})\nexport class VdlCharCount implements OnChanges {\n  @Input() align: 'start' | 'end' = 'end';\n  @Input() currentLength: number;\n  @Input() maxLength: number;\n  @Input() warnLength: number;\n\n  constructor(public elementRef: ElementRef, public renderer: Renderer) {\n  }\n\n  ngOnChanges(changes: {[propertyName: string]: SimpleChange}) {\n    const changedInputs = Object.keys(changes);\n    let charCountElement = this.elementRef.nativeElement;\n\n    if (changedInputs.indexOf('currentLength') != -1) {\n      let charLeft = this.maxLength - this.currentLength;\n\n      // TODO(alexw) internationalize https://jira.community.veritas.com/browse/STK-309\n      charCountElement.innerHTML = charLeft + ' characters left';\n\n      this.renderer.setElementClass(this.elementRef.nativeElement, 'vdl-char-count-low',\n        (charLeft <= this.warnLength && charLeft > 0));\n\n      this.renderer.setElementClass(this.elementRef.nativeElement, 'vdl-char-count-limit',\n        (charLeft == 0));\n    }\n  }\n}\n\n@Directive({\n  selector: `input[vdlInput], textarea[vdlInput]`,\n  host: {\n    'class': 'vdl-input-element',\n    // Native input properties that are overwritten by Angular inputs need to be synced with\n    // the native input element. Otherwise property bindings for those don't work.\n    '[id]': 'id',\n    '[disabled]': 'disabled',\n    '[required]': 'required',\n    '(blur)': '_onBlur()',\n    '(focus)': '_onFocus()',\n    '(input)': '_onInput()',\n  }\n})\nexport class VdlInputDirective {\n  private _type = 'text';\n  private _disabled = false;\n  private _required = false;\n  private _id: string;\n  private _cachedUid: string;\n\n  focused = false;\n\n  @Input()\n  get disabled() {\n    return this._ngControl ? this._ngControl.disabled : this._disabled;\n  }\n\n  set disabled(value: any) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n\n  @Input()\n  get id() {\n    return this._id;\n  };\n\n  set id(value: string) {\n    this._id = value || this._uid;\n  }\n\n  @Input()\n  get required() {\n    return this._required;\n  }\n\n  set required(value: any) {\n    this._required = coerceBooleanProperty(value);\n  }\n\n  @Input() requiredError: boolean = false;\n\n  @Input()\n  get type() {\n    return this._type;\n  }\n\n  set type(value: string) {\n    this._type = value || 'text';\n    this._validateType();\n\n    // When using Angular inputs, developers are no longer able to set the properties on the native\n    // input element. To ensure that bindings for `type` work, we need to sync the setter\n    // with the native property. Textarea elements don't support the type property or attribute.\n    if (!this._isTextarea() && getSupportedInputTypes().has(this._type)) {\n      this._renderer.setElementProperty(this._elementRef.nativeElement, 'type', this._type);\n    }\n  }\n\n  get value() {\n    return this._elementRef.nativeElement.value;\n  }\n\n  set value(value: string) {\n    this._elementRef.nativeElement.value = value;\n  }\n\n  @Input() warnLength: number;\n\n  @Input() maxLength: number;\n\n  @Output() _requiredErrorChange = new EventEmitter<string>();\n\n  get empty() {\n    return !this._isNeverEmpty() &&\n      (this.value == null || this.value === '') &&\n      // Check if the input contains bad input. If so, we know that it only appears empty because\n      // the value failed to parse. From the user's perspective it is not empty.\n      // TODO(mmalerba): Add e2e test for bad input case.\n      !this._isBadInput();\n  }\n\n  private get _uid() {\n    return this._cachedUid = this._cachedUid || `vdl-input-${nextUniqueId++}`;\n  }\n\n  private _neverEmptyInputTypes = [\n    'date',\n    'datetime',\n    'datetime-local',\n    'month',\n    'time',\n    'week'\n  ].filter(t => getSupportedInputTypes().has(t));\n\n  constructor(private _elementRef: ElementRef,\n              private _renderer: Renderer,\n              @Optional() public _ngControl: NgControl) {\n\n    // Force setter to be called in case id was not specified.\n    this.id = this.id;\n  }\n\n  focus() {\n    this._renderer.invokeElementMethod(this._elementRef.nativeElement, 'focus');\n  }\n\n  _onFocus() {\n    this.focused = true;\n  }\n\n  _onBlur() {\n    if (this._elementRef.nativeElement.value === '' && this._required) {\n      this.requiredError = true;\n      this._requiredErrorChange.emit();\n    }\n\n    this.focused = false;\n  }\n\n  _onInput() {\n    // This is a noop function and is used to let Angular know whenever the value changes.\n    // Angular will run a new change detection each time the `input` event has been dispatched.\n    // It's necessary that Angular recognizes the value change, because when floatingLabel\n    // is set to false and Angular forms aren't used, the placeholder won't recognize the\n    // value changes and will not disappear.\n    // Listening to the input event wouldn't be necessary when the input is using the\n    // FormsModule or ReactiveFormsModule, because Angular forms also listens to input events.\n\n\n    if (this._elementRef.nativeElement.value == '' && this._required) {\n      this.requiredError = true;\n      this._requiredErrorChange.emit();\n    } else {\n      this.requiredError = false;\n      this._requiredErrorChange.emit();\n    }\n  }\n\n  private _validateType() {\n    if (VDL_INPUT_INVALID_TYPES.indexOf(this._type) !== -1) {\n      throw new VdlInputContainerUnsupportedTypeError(this._type);\n    }\n  }\n\n  private _isNeverEmpty() {\n    return this._neverEmptyInputTypes.indexOf(this._type) !== -1;\n  }\n\n  private _isBadInput() {\n    return (this._elementRef.nativeElement as HTMLInputElement).validity.badInput;\n  }\n\n  private _isTextarea() {\n    let nativeElement = this._elementRef.nativeElement;\n    return nativeElement ? nativeElement.nodeName.toLowerCase() === 'textarea' : false;\n  }\n}\n\n\n/**\n * Component that represents a text input. It encapsulates the <input> HTMLElement and\n * improve on its behaviour, along with styling it according to the Veritas Design Language.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'vdl-input-container',\n  templateUrl: 'input-container.html',\n  styleUrls: ['input-container.css'],\n  viewProviders: [VdlIconRegistry],\n  host: {\n    // Remove align attribute to prevent it from interfering with layout.\n    '[attr.align]': 'null',\n    '[class.ng-untouched]': '_shouldForward(\"untouched\")',\n    '[class.ng-touched]': '_shouldForward(\"touched\")',\n    '[class.ng-pristine]': '_shouldForward(\"pristine\")',\n    '[class.ng-dirty]': '_shouldForward(\"dirty\")',\n    '[class.ng-valid]': '_shouldForward(\"valid\")',\n    '[class.ng-invalid]': '_shouldForward(\"invalid\")',\n    '[class.ng-pending]': '_shouldForward(\"pending\")',\n    '(click)': '_focusInput()',\n  },\n  encapsulation: ViewEncapsulation.None,\n})\nexport class VdlInputContainer implements AfterContentInit {\n  constructor(vdlIconRegistry: VdlIconRegistry) {\n    vdlIconRegistry.registerFontClassAlias('fontawesome', 'fa');\n  }\n\n  @Input() align: 'start' | 'end' = 'start';\n  @Input() infoPopoverTitle: string;\n  @Input() infoPopoverPlacement: string;\n  @Input() label: string;\n  @Input() hintText: string;\n  @Input() charCount: boolean = false;\n  @Input() iconError: boolean = false;\n  @Input() iconSuccess: boolean = false;\n  @Input() iconClear: boolean = false;\n  @Input() iconPassword: boolean = false;\n  @Input() iconPasswordSlash: boolean = false;\n  @Input() iconSearch: boolean = false;\n\n  // Internal input\n  @Input() errorText: string;\n\n  @Output() searchClick = new EventEmitter();\n\n  @ContentChild(VdlInputDirective) _vdlInputChild: VdlInputDirective;\n\n  @ContentChildren(VdlPopoverPredefined) _inputPopover: QueryList<VdlPopoverPredefined>;\n\n  ngAfterContentInit() {\n    if (!this._vdlInputChild) {\n      throw new VdlInputContainerMissingVdlInputError();\n    }\n\n    this._vdlInputChild._requiredErrorChange.subscribe(() => this._changeErrorText());\n  }\n\n  /** Determines whether a class from the NgControl should be forwarded to the host element. */\n  _shouldForward(prop: string): boolean {\n    let control = this._vdlInputChild ? this._vdlInputChild._ngControl : null;\n    return control && (control as any)[prop];\n  }\n\n  _clearText() {\n    if (this._vdlInputChild.value.length > 0) {\n      this._vdlInputChild.value = '';\n    }\n  }\n\n  _showHidePassword() {\n    if (this.iconPassword) {\n      this._vdlInputChild.type = 'text';\n      this.iconPassword = false;\n      this.iconPasswordSlash = true;\n    } else {\n      this._vdlInputChild.type = 'password';\n      this.iconPassword = true;\n      this.iconPasswordSlash = false;\n    }\n  }\n\n  _changeErrorText() {\n    if (this._vdlInputChild.requiredError) {\n      // TODO(alexw) internationalize https://jira.community.veritas.com/browse/STK-309\n      this.errorText = 'please fill out this field';\n    } else {\n      this.errorText = '';\n    }\n  }\n\n  _focusInput() {\n    this._vdlInputChild.focus();\n  }\n}\n"]}