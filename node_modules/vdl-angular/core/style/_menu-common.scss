@import './variables';
@import './elevation';
@import './list-common';

/** The mixins below are shared between vdl-menu and vdl-select */

// menu width must be a multiple of 56px
$vdl-menu-overlay-min-width: 112px !default;   // 56 * 2
$vdl-menu-overlay-max-width: 280px !default;   // 56 * 5

$vdl-menu-item-height: 48px !default;
$vdl-menu-font-size: 16px !default;
$vdl-menu-side-padding: 16px !default;

@mixin vdl-menu-base() {
  @include vdl-elevation(8);
  min-width: $vdl-menu-overlay-min-width;
  max-width: $vdl-menu-overlay-max-width;

  overflow: auto;
  -webkit-overflow-scrolling: touch;   // for momentum scroll on mobile
}

@mixin vdl-menu-item-base() {
  @include vdl-truncate-line();

  // Needs to be a block for the ellipsis to work.
  display: block;
  line-height: $vdl-menu-item-height;
  height: $vdl-menu-item-height;
  padding: 0 $vdl-menu-side-padding;

  font-size: $vdl-menu-font-size;
  font-family: $vdl-font-family;
  text-align: start;
  text-decoration: none;   // necessary to reset anchor tags

  &[disabled] {
    cursor: default;
  }

  .vdl-icon {
    margin-right: 16px;

    [dir='rtl'] & {
      margin-left: 16px;
    }
  }
}

/**
 * This mixin adds the correct panel transform styles based
 * on the direction that the menu panel opens.
 */
@mixin vdl-menu-positions() {
  &.vdl-menu-after.vdl-menu-below {
    transform-origin: left top;
  }

  &.vdl-menu-after.vdl-menu-above {
    transform-origin: left bottom;
  }

  &.vdl-menu-before.vdl-menu-below {
    transform-origin: right top;
  }

  &.vdl-menu-before.vdl-menu-above {
    transform-origin: right bottom;
  }

  [dir='rtl'] & {
    &.vdl-menu-after.vdl-menu-below {
      transform-origin: right top;
    }

    &.vdl-menu-after.vdl-menu-above {
      transform-origin: right bottom;
    }

    &.vdl-menu-before.vdl-menu-below {
      transform-origin: left top;
    }

    &.vdl-menu-before.vdl-menu-above {
      transform-origin: left bottom;
    }
  }
}
