{"version":3,"file":"button.js","sourceRoot":"","sources":["../../../src/lib/button/button.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ViewEncapsulation,\n  Input,\n  HostBinding,\n  ChangeDetectionStrategy,\n  OnChanges,\n  SimpleChange,\n  ElementRef,\n  Renderer,\n  NgModule,\n  ModuleWithProviders,\n} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {coerceBooleanProperty} from '../core';\n\n/**\n * Material design button.\n */\n@Component({\n  moduleId: module.id,\n  selector: 'button[vdl-primary-button], button[vdl-secondary-button], ' +\n            'button[vdl-tertiary-button], ' +\n            'button[vdl-icon-button], button[vdl-fab], button[vdl-mini-fab]',\n  host: {\n    '[disabled]': 'disabled',\n    '[class.vdl-button-focus]': '_isKeyboardFocused',\n    '(mousedown)': '_setMousedown()',\n    '(focus)': '_setKeyboardFocus()',\n    '(blur)': '_removeKeyboardFocus()',\n  },\n  templateUrl: 'button.html',\n  styleUrls: ['button.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VdlButton {\n\n  /** Whether the button has focus from the keyboard (not the mouse). Used for class binding. */\n  _isKeyboardFocused: boolean = false;\n\n  /** Whether a mousedown has occurred on this element in the last 100ms. */\n  _isMouseDown: boolean = false;\n\n  /** Disable button */\n  private _disabled: boolean = null;\n\n  /** Get/Set disabled. */\n  @Input()\n  get disabled() { return this._disabled; }\n  set disabled(value: boolean) { this._disabled = coerceBooleanProperty(value) ? true : null; }\n\n  constructor(private _elementRef: ElementRef, private _renderer: Renderer) { }\n\n  _setMousedown() {\n    // We only *show* the focus style when focus has come to the button via the keyboard.\n    // The Material Design spec is silent on this topic, and without doing this, the\n    // button continues to look :active after clicking.\n    // @see http://marcysutton.com/button-focus-hell/\n    this._isMouseDown = true;\n    setTimeout(() => { this._isMouseDown = false; }, 100);\n  }\n\n  _setKeyboardFocus() {\n    this._isKeyboardFocused = !this._isMouseDown;\n  }\n\n  _removeKeyboardFocus() {\n    this._isKeyboardFocused = false;\n  }\n\n  /** Focuses the button. */\n  focus(): void {\n    this._renderer.invokeElementMethod(this._getHostElement(), 'focus');\n  }\n\n  _getHostElement() {\n    return this._elementRef.nativeElement;\n  }\n\n  _isRoundButton() {\n    const el = this._elementRef.nativeElement;\n    return el.hasAttribute('vdl-icon-button') ||\n        el.hasAttribute('vdl-fab') ||\n        el.hasAttribute('vdl-mini-fab');\n  }\n}\n\n/**\n * link button\n */\n@Component({\n  moduleId: module.id,\n  selector: 'a[vdl-button], a[vdl-icon-button], a[vdl-fab], a[vdl-mini-fab]',\n  inputs: ['disabled'],\n  host: {\n    '[attr.disabled]': 'disabled',\n    '[attr.aria-disabled]': '_isAriaDisabled',\n    '[class.vdl-button-focus]': '_isKeyboardFocused',\n    '(mousedown)': '_setMousedown()',\n    '(focus)': '_setKeyboardFocus()',\n    '(blur)': '_removeKeyboardFocus()',\n    '(click)': '_haltDisabledEvents($event)',\n  },\n  templateUrl: 'button.html',\n  styleUrls: ['button.css'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VdlAnchor extends VdlButton implements OnChanges {\n  constructor(public elementRef: ElementRef, public renderer: Renderer) {\n    super(elementRef, renderer);\n  }\n\n  ngOnChanges(changes: { [propertyName: string]: SimpleChange }) {\n    const changedInputs = Object.keys(changes);\n    const currentValue = this.disabled ? true : false;\n\n    if (changedInputs.indexOf('disabled') != -1) {\n      this._disabledChangeHandler(changes['disabled'].previousValue, currentValue);\n    }\n  }\n\n  _disabledChangeHandler(previousValue: boolean, currentValue: boolean) {\n    if (currentValue != previousValue) {\n      this.renderer.setElementClass(this.elementRef.nativeElement, 'disabled', currentValue);\n    }\n  }\n\n  /** @docs-private */\n  @HostBinding('tabIndex')\n  get tabIndex(): number {\n    return this.disabled ? -1 : 0;\n  }\n\n  get _isAriaDisabled(): string {\n    return this.disabled ? 'true' : 'false';\n  }\n\n  _haltDisabledEvents(event: Event) {\n    // A disabled button shouldn't apply any actions\n    if (this.disabled) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  }\n}\n\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [VdlButton, VdlAnchor],\n  declarations: [VdlButton, VdlAnchor],\n})\nexport class VdlButtonModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: VdlButtonModule,\n      providers: []\n    };\n  }\n}\n"]}