@import 'button-base';
@import '../core/a11y/a11y';
@import '../core/theming/vdlPalette';

// TODO: switch hard coded colors to palette color
// Colors
$vdl-btn-color-default: vdl-color(13);
$vdl-btn-color-hover: vdl-color(11);
$vdl-btn-color-click: vdl-color(10);
$vdl-btn-color-disabled: vdl-color(6);
$vdl-btn-color-loading: #0070be;
$vdl-btn-color-positive: vdl-color(15);
$vdl-btn-color-negative: vdl-color(17);
$vdl-btn-color-focus: $vdl-btn-color-hover;
// Primary specific colors
$vdl-btn-primary-text-color: vdl-color(0);

  // Secondary specific colors
$vdl-btn-secondary-color-hover: vdl-color(2);
$vdl-btn-secondary-background-color: vdl-color(0);
$vdl-btn-secondary-color-click: vdl-color(3);

// Tertiary specific colors
$vdl-btn-tertiary-color-hover: vdl-color(2);
$vdl-btn-tertiary-background-color: vdl-color(0);
$vdl-btn-tertiary-color-click: vdl-color(3);

[vdl-button], [vdl-primary-button], [vdl-secondary-button], [vdl-tertiary-button], [vdl-icon-button] {
  @extend %vdl-button-base;

  // Only flat button and icon buttons should inherit the color
  color: currentColor;

  // Only flat button and icon buttons should inherit the color
  color: currentColor;

  // Only flat buttons and icon buttons (not raised or fabs) have a hover style.
  &:hover {
    // Use the same visual treatment for hover as for focus.
    .vdl-button-focus-overlay {
      opacity: 1;
    }
  }
}

[vdl-primary-button], [vdl-fab], [vdl-mini-fab], [vdl-icon-button] {
  background-color: $vdl-btn-color-default;
  color: $vdl-btn-primary-text-color;
  border-color: $vdl-btn-color-default;

  &:hover,
  &.hover {
    background-color: $vdl-btn-color-hover;
    border-color: $vdl-btn-color-hover;
  }

  &:focus,
  &.focus {
    background-color: $vdl-btn-color-focus;
    border-color: $vdl-btn-color-focus;
  }

  &:active,
  &.active {
    background-color: $vdl-btn-color-click;
    border-color: $vdl-btn-color-click;
  }

  &.disabled,
  &:disabled,
  &.disabled:hover,
  &:disabled:hover {
    background-color: $vdl-btn-color-disabled;
    border-color: $vdl-btn-color-disabled;
  }

  &.btn-loading {
    background-color: $vdl-btn-color-loading;
    border-color: $vdl-btn-color-loading;
  }

  &.btn-positive {
    background-color: $vdl-btn-color-positive;
    border-color: $vdl-btn-color-positive;
  }

  &.btn-negative {
    background-color: $vdl-btn-color-negative;
    border-color: $vdl-btn-color-negative;
  }
}

[vdl-secondary-button] {
  background-color: $vdl-btn-secondary-background-color;
  color: $vdl-btn-color-default;
  border-color: $vdl-btn-color-default;

  &:hover,
  &.hover {
    color: $vdl-btn-color-hover;
    border-color: $vdl-btn-color-hover;
    background-color: $vdl-btn-secondary-color-hover;
  }

  &:focus,
  &.focus {
    color: $vdl-btn-color-focus;
    border-color: $vdl-btn-color-focus;
    background-color: $vdl-btn-secondary-background-color;
  }

  &:active,
  &.active {
    color: $vdl-btn-color-click;
    border-color: $vdl-btn-color-click;
    background-color: $vdl-btn-secondary-color-click;
  }

  &.disabled,
  &:disabled,
  &.disabled:hover,
  &:disabled:hover {
    color: $vdl-btn-color-disabled;
    border-color: $vdl-btn-color-disabled;
    background-color: $vdl-btn-secondary-background-color;
  }

  &.btn-loading {
    color: $vdl-btn-color-loading;
    border-color: $vdl-btn-color-loading;
    background-color: $vdl-btn-secondary-background-color;
  }

  &.btn-positive {
    color: $vdl-btn-color-positive;
    border-color: $vdl-btn-color-positive;
    background-color: $vdl-btn-secondary-background-color;
  }

  &.btn-negative {
    color: $vdl-btn-color-negative;
    border-color: $vdl-btn-color-negative;
    background-color: $vdl-btn-secondary-background-color;
  }
}

[vdl-tertiary-button] {
  background-color: $vdl-btn-tertiary-background-color;
  border-color: $vdl-btn-tertiary-background-color;
  color: $vdl-btn-color-default;

  &:hover,
  &.hover {
    color: $vdl-btn-color-hover;
    background-color: $vdl-btn-tertiary-color-hover;
    border-color: $vdl-btn-tertiary-color-hover;
  }

  &:focus,
  &.focus {
    color: $vdl-btn-color-focus;
    background-color: $vdl-btn-tertiary-background-color;
    border-color: $vdl-btn-tertiary-background-color;
  }

  &:active,
  &.active {
    color: $vdl-btn-color-click;
    background-color: $vdl-btn-tertiary-color-click;
    border-color: $vdl-btn-tertiary-color-click;
  }

  &.disabled,
  &:disabled,
  &.disabled:hover,
  &:disabled:hover {
    color: $vdl-btn-color-disabled;
    background-color: $vdl-btn-tertiary-background-color;
    border-color: $vdl-btn-tertiary-background-color;
  }

  &.btn-loading {
    color: $vdl-btn-color-loading;
    background-color: $vdl-btn-tertiary-background-color;
    border-color: $vdl-btn-tertiary-background-color;
  }

  &.btn-positive {
    color: $vdl-btn-color-positive;
    background-color: $vdl-btn-tertiary-background-color;
    border-color: $vdl-btn-tertiary-background-color;
  }

  &.btn-negative {
    color: $vdl-btn-color-negative;
    background-color: $vdl-btn-tertiary-background-color;
    border-color: $vdl-btn-tertiary-background-color;
  }
}

a[vdl-button] {
  min-width: auto;
  line-height: normal;
  padding: 0;
  border-radius: 0;
  border: none;
  background: none;
  color: $vdl-btn-color-default;
  vertical-align: baseline;
  text-align: start;

  &:hover,
  &.hover {
    color: $vdl-btn-color-hover;
    background: none;
  }

  &:focus,
  &.focus {
    color: $vdl-btn-color-focus;
    background: none;
  }

  [disabled] {
    color: $vdl-btn-color-disabled;
    background: none;
  }

  &:active,
  &.active {
    color: $vdl-btn-color-click;
    background: none;
  }

  &.disabled,
  &:disabled,
  &.disabled:hover,
  &:disabled:hover {
    color: $vdl-btn-color-disabled;
    background: none;
  }

  &.btn-loading {
    color: $vdl-btn-color-loading;
    background: none;
  }

  &.btn-positive {
    color: $vdl-btn-color-positive;
    background: none;
  }

  &.btn-negative {
    color: $vdl-btn-color-negative;
    background: none;
  }
}

[vdl-fab] {
  @include vdl-fab($vdl-fab-size, $vdl-fab-padding);
}

[vdl-mini-fab] {
  @include vdl-fab($vdl-mini-fab-size, $vdl-mini-fab-padding);
}

[vdl-icon-button] {
  padding: 0;

  // Reset the min-width from the button base.
  min-width: 0;

  flex-shrink: 0;

  background: none;
  border: none;
  cursor: pointer;
  color: #000000;
  line-height: inherit;

  i, vdl-icon {
    line-height: $vdl-icon-button-line-height;
  }

  &:hover,
  &.hover {
    color: $vdl-btn-color-hover;
    background-color: transparent;
    border-color: transparent;
  }

  &:focus,
  &.focus {
    color: $vdl-btn-color-focus;
    background-color: transparent;
    border-color: transparent;
  }

  &:active,
  &.active {
    color: $vdl-btn-color-click;
    background-color: transparent;
    border-color: transparent;
  }

  &:disabled,
  &.disabled {
    color: $vdl-btn-color-disabled;
    background-color: transparent;
    border-color: transparent;
  }
}

// The text and icon should be vertical aligned inside a button
[vdl-primary-button], [vdl-secondary-button], [vdl-tertiary-button] {
  .vdl-button-wrapper > * {
    vertical-align: middle;
  }
}

.vdl-button-focus-overlay {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

// Overlay to be used as a tint. Note that the same effect can be achieved by using a pseudo
// element, however we use a proper DOM element in order to be able to disable the default
// touch action. This makes the buttons more responsive on touch devices.
.vdl-button-focus-overlay {
  // The button spec calls for focus on raised buttons (and FABs) to be indicated with a
  // black, 12% opacity shade over the normal color (for both light and dark themes).
  background-color: rgba(black, 0.12);
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;

  @include cdk-high-contrast {
    // Note that IE will render this in the same way, no
    // matter whether the theme is light or dark. This helps
    // with the readability of focused buttons.
    background-color: rgba(white, 0.5);
  }
}

// Add an outline to make it more visible in high contrast mode.
@include cdk-high-contrast {
  [vdl-button], [vdl-primary-button], [vdl-secondary-button], [vdl-tertiary-button], [vdl-icon-button], [vdl-fab], [vdl-mini-fab] {
    outline: solid 1px;
  }
}
