{"version":3,"file":"list.js","sourceRoot":"","sources":["../../../src/lib/list/list.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ViewEncapsulation,\n  ContentChildren,\n  ContentChild,\n  QueryList,\n  Directive,\n  ElementRef,\n  Renderer,\n  AfterContentInit,\n  NgModule,\n  ModuleWithProviders,\n  Input,\n} from '@angular/core';\n\nimport {CommonModule} from '@angular/common';\nimport {VdlLine, VdlLineSetter, VdlLineModule, RIGHT_ARROW, LEFT_ARROW, ENTER, TAB} from '../core';\nimport {VdlButton} from '../button/button';\n\n\n@Directive({\n  selector: 'vdl-divider'\n})\nexport class VdlListDivider {\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'vdl-list, vdl-nav-list',\n  host: {'role': 'list'},\n  template: '<ng-content></ng-content>',\n  styleUrls: ['list.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class VdlList {\n}\n\n/* Need directive for a ContentChild query in list-item */\n@Directive({selector: '[vdl-list-avatar]'})\nexport class VdlListAvatar {\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'vdl-list-item-action',\n  template: '<ng-content></ng-content>',\n  encapsulation: ViewEncapsulation.None\n})\nexport class VdlListItemAction {\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'vdl-list-item, a[vdl-list-item]',\n  host: {\n    'role': 'listitem',\n    '(click)': '_handleFocus()',\n    '(blur)': '_handleBlur()',\n    '(keydown)': '_handleKeydown($event)',\n    '[attr.tabindex]': '_tabindex()',\n    '[class.vdl-disabled]': 'isDisabled'\n  },\n  templateUrl: 'list-item.html',\n  encapsulation: ViewEncapsulation.None\n})\nexport class VdlListItem implements AfterContentInit {\n  _hasFocus: boolean = false;\n\n  @Input() isInline: boolean = true;\n  @Input() isSelectable: boolean = false;\n  @Input() isDisabled: boolean = false;\n  @Input() wrapTextContent: boolean = false;\n\n  private _lineSetter: VdlLineSetter;\n\n  @ContentChildren(VdlLine) _lines: QueryList<VdlLine>;\n\n  @ContentChildren(VdlButton, {descendants: true}) _buttons: QueryList<VdlButton>;\n\n  @ContentChild(VdlListAvatar)\n  set _hasAvatar(avatar: VdlListAvatar) {\n    this._renderer.setElementClass(this._element.nativeElement, 'vdl-list-avatar', avatar != null);\n  }\n\n  constructor(private _renderer: Renderer, private _element: ElementRef) {\n  }\n\n  ngAfterContentInit() {\n    this._lineSetter = new VdlLineSetter(this._lines, this._renderer, this._element);\n  }\n\n  _handleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case RIGHT_ARROW:\n        this._focusNextBtn();\n        break;\n      case LEFT_ARROW:\n        this._focusPreviousBtn();\n        break;\n      case ENTER:\n        this._handleEnter();\n        break;\n      case TAB:\n        this._removeFocusAllBtns();\n        break;\n    }\n  }\n\n  _focusNextBtn() {\n    /** This removes the blur on vdl-list-item and puts focus onto the buttons instead */\n    this._handleBlur();\n\n    if (this._buttons && this._buttons.length > 0) {\n      let focusedIndex = 0;\n      const btns: VdlButton[] = this._buttons.toArray();\n\n      /** Need to grab the current index the focus is on in order to go to the previous button */\n      for (let i = 0; i < btns.length && i >= 0; i += 1) {\n        if (btns[i]._getHostElement().classList.contains('vdl-button-focus')) {\n          focusedIndex = i;\n          break;\n        }\n      }\n\n      if (focusedIndex === btns.length - 1) {\n        this._renderer.setElementClass(btns[btns.length - 1]._getHostElement(), 'vdl-button-focus', false);\n        this._renderer.setElementClass(btns[0]._getHostElement(), 'vdl-button-focus', true);\n        return;\n      }\n\n      if (focusedIndex === 0 && !btns[focusedIndex]._getHostElement().classList.contains('vdl-button-focus')) {\n        this._renderer.setElementClass(btns[focusedIndex]._getHostElement(), 'vdl-button-focus', true);\n      } else {\n        this._renderer.setElementClass(btns[focusedIndex]._getHostElement(), 'vdl-button-focus', false);\n        this._renderer.setElementClass(btns[focusedIndex + 1]._getHostElement(), 'vdl-button-focus', true);\n      }\n    }\n  }\n\n  _focusPreviousBtn() {\n    if (this._buttons && this._buttons.length > 0) {\n      let focusedIndex: number;\n      const btns: VdlButton[] = this._buttons.toArray();\n\n      /** Need to grab the current index the focus is on in order to go to the previous button */\n      for (let i = 0; i < btns.length && i >= 0; i += 1) {\n        if (btns[i]._getHostElement().classList.contains('vdl-button-focus')) {\n          focusedIndex = i;\n          break;\n        }\n      }\n\n      if (focusedIndex) {\n        this._renderer.setElementClass(btns[focusedIndex]._getHostElement(), 'vdl-button-focus', false);\n        this._renderer.setElementClass(btns[focusedIndex - 1]._getHostElement(), 'vdl-button-focus', true);\n      } else if (focusedIndex === 0) {\n        this._renderer.setElementClass(btns[focusedIndex]._getHostElement(), 'vdl-button-focus', false);\n        this._handleFocus();\n      }\n    }\n  }\n\n  _handleEnter() {\n    const btns: VdlButton[] = this._buttons.toArray();\n\n    for (let i = 0; i < btns.length && i >= 0; i += 1) {\n      if (btns[i]._getHostElement().classList.contains('vdl-button-focus')) {\n        btns[i]._getHostElement().click();\n        break;\n      }\n    }\n\n    this._handleFocus();\n    this._element.nativeElement.click();\n  }\n\n  _removeFocusAllBtns() {\n    const btns: VdlButton[] = this._buttons.toArray();\n\n    for (let i = 0; i < btns.length && i >= 0; i += 1) {\n      if (btns[i]._getHostElement().classList.contains('vdl-button-focus')) {\n        this._renderer.setElementClass(btns[i]._getHostElement(), 'vdl-button-focus', false);\n      }\n    }\n  }\n\n  _handleFocus() {\n    this._hasFocus = true;\n  }\n\n  _handleBlur() {\n    this._hasFocus = false;\n  }\n\n  _tabindex() { return this.isDisabled ? '-1' : '1'; }\n\n  focus() {\n    this._renderer.invokeElementMethod(this._element.nativeElement, 'focus');\n  }\n}\n\n\n@NgModule({\n  imports: [VdlLineModule, CommonModule],\n  exports: [\n    VdlList,\n    VdlListItem,\n    VdlListItemAction,\n    VdlListDivider,\n    VdlListAvatar,\n    VdlLineModule,\n  ],\n  declarations: [VdlList, VdlListItem, VdlListItemAction, VdlListDivider, VdlListAvatar],\n})\nexport class VdlListModule {\n  /** @deprecated */\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: VdlListModule,\n      providers: []\n    };\n  }\n}\n"]}