var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
import { NgModule, Component, ElementRef, Input, Output, ChangeDetectionStrategy, EventEmitter, Renderer, ViewEncapsulation, ViewChild } from '@angular/core';
import { CommonModule } from '@angular/common';
import { A11yModule } from '../core/a11y/index';
import { ENTER } from '../core/keyboard/keycodes';
import { OverlayModule } from '../core/overlay/overlay-directives';
import { VdlIconRegistry, VdlIconModule } from '../icon/index';
import { VdlButtonModule, VdlButton } from '../button/button';
import { VdlToolbarModule } from '../toolbar/toolbar';
export var VdlSidenavListItem = (function () {
    function VdlSidenavListItem(_elementRef, _renderer, vdlIconRegistry) {
        this._elementRef = _elementRef;
        this._renderer = _renderer;
        this.expand = new EventEmitter();
        /** Whether the sidenav-list-item has focus from the keyboard (not the mouse). Used for class binding. */
        this._isKeyboardFocused = false;
        /** Whether a mousedown has occurred on this element in the last 100ms. */
        this._isMouseDown = false;
        vdlIconRegistry.registerFontClassAlias('fontawesome', 'fa');
    }
    VdlSidenavListItem.prototype.isExpandable = function (category) {
        return !!category.subCategories && category.subCategories.length > 0;
    };
    VdlSidenavListItem.prototype.isExpanded = function (category) {
        return this.isExpandable(category) && category.expanded;
    };
    VdlSidenavListItem.prototype._setMousedown = function () {
        var _this = this;
        // We only *show* the focus style when focus has come to the sidenav-list-itme via the keyboard.
        // The Material Design spec is silent on this topic, and without doing this, the
        // sidenav-list-itme continues to look :active after clicking.
        // @see http://marcysutton.com/button-focus-hell/
        this._isMouseDown = true;
        setTimeout(function () { _this._isMouseDown = false; }, 100);
    };
    /** Focuses the sidenav-list-itme. */
    VdlSidenavListItem.prototype.focus = function () {
        this._renderer.invokeElementMethod(this._getHostElement(), 'focus');
    };
    VdlSidenavListItem.prototype._handleKeydown = function (event) {
        if (ENTER === event.keyCode && event.target == this._elementRef.nativeElement) {
            this._elementRef.nativeElement.click();
        }
    };
    VdlSidenavListItem.prototype._setKeyboardFocus = function () {
        this._isKeyboardFocused = !this._isMouseDown;
    };
    VdlSidenavListItem.prototype._removeKeyboardFocus = function () {
        this._isKeyboardFocused = false;
    };
    VdlSidenavListItem.prototype._getHostElement = function () {
        return this._elementRef.nativeElement;
    };
    __decorate([
        Input(), 
        __metadata('design:type', Object)
    ], VdlSidenavListItem.prototype, "category", void 0);
    __decorate([
        Output(), 
        __metadata('design:type', Object)
    ], VdlSidenavListItem.prototype, "expand", void 0);
    VdlSidenavListItem = __decorate([
        Component({selector: 'vdl-sidenav-list-item',
            template: "<div class=\"category-spacer\"></div><div class=\"category-icon\"><div><vdl-icon vdl-list-icon class=\"category-icon\" fontSet=\"fontawesome\" [fontIcon]=\"category.icon\"></vdl-icon></div></div><div class=\"category-name\">{{category.displayName}}</div><div class=\"category-expander\"><div><vdl-icon class=\"sidenav-icon\" [class.expanded]=\"isExpanded(category)\" *ngIf=\"isExpandable(category)\" fontSet=\"fontawesome\" fontIcon=\"fa-angle-down\"></vdl-icon></div></div>",
            styles: [".vdl-sidenav-list{margin-top:-1px;display:flex;flex-direction:column;flex-grow:1;width:300px;max-width:300px;min-width:300px;background-color:#202c34;transition-property:width;transition-duration:.3s}.vdl-sidenav-list.vdl-sidenav-list-collapse{width:60px;max-width:60px;min-width:60px;overflow:hidden}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-toolbar button[vdl-icon-button]:last-child{display:none}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list .vdl-sidenav-list-item.sub-category-indent .category-spacer,.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item.sub-category-indent .category-spacer{transition-property:width;transition-duration:.3s;width:15px}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item{max-height:40px}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item .category-icon{padding-right:0}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item .category-name{transition-property:all;transition-duration:.3s;visibility:hidden;overflow:hidden;white-space:nowrap;width:0;padding:0;flex:0 0 auto}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item .category-expander{max-width:20px;min-width:20px}.vdl-sidenav-list .vdl-toolbar{height:39px;min-height:40px;border-bottom:.5px solid #414142;padding:0;margin-bottom:10px;color:#d8d8d9;background-color:#202c34}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row{justify-content:space-between;height:inherit}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button]{height:39px;width:40px;color:#d8d8d9;border:none}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon{cursor:inherit;color:#d8d8d9;height:20px;width:20px;line-height:20px;transition-duration:120ms;transition-property:transform}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.open-close::before{font-size:1.375rem}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.thumb-tack::before{font-size:.938rem}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.closed{transform:rotate(-180deg)}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.pinned{transform:rotate(30deg)}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button].disabled,.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button]:disabled{opacity:.5;background-color:transparent}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button]:first-child{width:60px}.vdl-sidenav-list .vdl-sidenav-list-item{transition-property:width;transition-duration:.4s;transition:color .3s;cursor:pointer;display:flex;flex-direction:row;align-items:stretch;align-content:center;min-height:40px;max-height:60px;font-family:Roboto Light,sans-serif;transparency:70%;color:#d8d8d9;background-color:#202c34;outline:transparent}.vdl-sidenav-list .vdl-sidenav-list-item.sub-category-indent .category-spacer{width:45px}.vdl-sidenav-list .vdl-sidenav-list-item.selected{background-color:#32424d}.vdl-sidenav-list .vdl-sidenav-list-item.selected .category-spacer{border-left-color:#b1181e}.vdl-sidenav-list .vdl-sidenav-list-item .category-spacer{flex:0 0 auto;-ms-grid-row-align:stretch;align-self:stretch;width:15px;border-left:5px solid transparent}.vdl-sidenav-list .vdl-sidenav-list-item .category-icon{display:flex;flex:0 0 auto;align-self:stretch;align-items:center;width:20px;padding-right:10px}.vdl-sidenav-list .vdl-sidenav-list-item .category-icon .vdl-icon{height:20px;width:20px;font-size:20px;line-height:20px}.vdl-sidenav-list .vdl-sidenav-list-item .category-icon .vdl-icon::before{width:20px;height:20px}.vdl-sidenav-list .vdl-sidenav-list-item .category-name{flex:1 1 auto;display:flex;align-self:stretch;margin:11px 0;overflow:hidden;align-content:center;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-overflow:ellipsis}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander{min-width:40px;display:flex;align-items:center;justify-content:center}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander vdl-icon{height:16px;width:10px;line-height:16px;transition-duration:250ms;transition-property:transform}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander vdl-icon::before{font-size:1rem}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander vdl-icon.expanded{transform:rotate(-180deg)}.vdl-sidenav-list .vdl-sidenav-list-item button:focus vdl-icon{color:#d8d8d9}.vdl-sidenav-list .vdl-sidenav-list-item.vdl-sidenav-list-item-focus{background-color:#32424d}.vdl-sidenav-list .vdl-sidenav-list-item:hover{color:#fff}.vdl-sidenav-list [vdl-icon-button].focus,.vdl-sidenav-list [vdl-icon-button]:focus,.vdl-sidenav-list button.focus,.vdl-sidenav-list button:focus{background-color:#32424d}"],
            host: {
                '[class.vdl-sidenav-list-item]': 'true',
                'role': 'listitem',
                '[tabindex]': '1',
                '[class.vdl-sidenav-list-item-focus]': '_isKeyboardFocused',
                '(keydown)': '_handleKeydown($event)',
                '(mousedown)': '_setMousedown()',
                '(focus)': '_setKeyboardFocus()',
                '(blur)': '_removeKeyboardFocus()',
            },
            viewProviders: [VdlIconRegistry],
            changeDetection: ChangeDetectionStrategy.OnPush,
            encapsulation: ViewEncapsulation.None
        }), 
        __metadata('design:paramtypes', [ElementRef, Renderer, VdlIconRegistry])
    ], VdlSidenavListItem);
    return VdlSidenavListItem;
}());
export var VdlSidenavList = (function () {
    function VdlSidenavList(vdlIconRegistry) {
        this.onCategorySelect = new EventEmitter();
        // @Output() onCategoryToggle = new EventEmitter();
        this._opened = true;
        this._pinned = false;
        vdlIconRegistry.registerFontClassAlias('fontawesome', 'fa');
    }
    VdlSidenavList.prototype.toggleOpened = function () {
        if (!this._pinned) {
            this._opened = !this._opened;
        }
    };
    VdlSidenavList.prototype.togglePinned = function () {
        this._pinned = !this._pinned;
        this.openCloseButton.disabled = this._pinned;
    };
    VdlSidenavList.prototype.itemClicked = function (category) {
        if (this.isExpandable(category)) {
            category.expanded = !category.expanded;
            return; // we handle these clicks
        }
        this.onCategorySelect.emit(category);
    };
    VdlSidenavList.prototype.isExpanded = function (category) {
        return this.isExpandable(category) && category.expanded;
    };
    VdlSidenavList.prototype.isExpandable = function (category) {
        return !!category.subCategories && category.subCategories.length > 0;
    };
    VdlSidenavList.prototype.isSelected = function (category) {
        return this.selectedCategory === category;
    };
    __decorate([
        Input('selectedCategory'), 
        __metadata('design:type', Object)
    ], VdlSidenavList.prototype, "selectedCategory", void 0);
    __decorate([
        Input('categoryList'), 
        __metadata('design:type', Array)
    ], VdlSidenavList.prototype, "categoryList", void 0);
    __decorate([
        Output(), 
        __metadata('design:type', Object)
    ], VdlSidenavList.prototype, "onCategorySelect", void 0);
    __decorate([
        ViewChild('openCloseButton'), 
        __metadata('design:type', VdlButton)
    ], VdlSidenavList.prototype, "openCloseButton", void 0);
    VdlSidenavList = __decorate([
        Component({selector: 'vdl-sidenav-list',
            template: "<vdl-toolbar><button vdl-icon-button #openCloseButton (click)=\"toggleOpened();$event.stopPropagation()\"><vdl-icon class=\"sidenav-icon open-close\" [class.closed]=\"!_opened\" fontSet=\"fontawesome\" fontIcon=\"fa-angle-double-left\"></vdl-icon></button> <button vdl-icon-button (click)=\"togglePinned();$event.stopPropagation()\"><vdl-icon class=\"sidenav-icon thumb-tack\" [class.pinned]=\"!_pinned\" fontSet=\"fontawesome\" fontIcon=\"fa-thumb-tack\"></vdl-icon></button></vdl-toolbar><div role=\"list\"><div *ngFor=\"let category of categoryList\"><vdl-sidenav-list-item [class.selected]=\"category === selectedCategory\" [category]=\"category\" (click)=\"itemClicked(category);$event.stopPropagation()\"></vdl-sidenav-list-item><div *ngIf=\"isExpanded(category)\"><div *ngFor=\"let subCategory of category.subCategories\" (click)=\"itemClicked(subCategory);$event.stopPropagation();\"><vdl-sidenav-list-item [class.selected]=\"subCategory === selectedCategory\" [category]=\"subCategory\" class=\"sub-category-indent\"></vdl-sidenav-list-item></div></div></div></div>",
            styles: [".vdl-sidenav-list{margin-top:-1px;display:flex;flex-direction:column;flex-grow:1;width:300px;max-width:300px;min-width:300px;background-color:#202c34;transition-property:width;transition-duration:.3s}.vdl-sidenav-list.vdl-sidenav-list-collapse{width:60px;max-width:60px;min-width:60px;overflow:hidden}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-toolbar button[vdl-icon-button]:last-child{display:none}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list .vdl-sidenav-list-item.sub-category-indent .category-spacer,.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item.sub-category-indent .category-spacer{transition-property:width;transition-duration:.3s;width:15px}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item{max-height:40px}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item .category-icon{padding-right:0}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item .category-name{transition-property:all;transition-duration:.3s;visibility:hidden;overflow:hidden;white-space:nowrap;width:0;padding:0;flex:0 0 auto}.vdl-sidenav-list.vdl-sidenav-list-collapse .vdl-sidenav-list-item .category-expander{max-width:20px;min-width:20px}.vdl-sidenav-list .vdl-toolbar{height:39px;min-height:40px;border-bottom:.5px solid #414142;padding:0;margin-bottom:10px;color:#d8d8d9;background-color:#202c34}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row{justify-content:space-between;height:inherit}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button]{height:39px;width:40px;color:#d8d8d9;border:none}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon{cursor:inherit;color:#d8d8d9;height:20px;width:20px;line-height:20px;transition-duration:120ms;transition-property:transform}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.open-close::before{font-size:1.375rem}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.thumb-tack::before{font-size:.938rem}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.closed{transform:rotate(-180deg)}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button] span.vdl-button-wrapper .vdl-icon.pinned{transform:rotate(30deg)}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button].disabled,.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button]:disabled{opacity:.5;background-color:transparent}.vdl-sidenav-list .vdl-toolbar .vdl-toolbar-layout .vdl-toolbar-row button[vdl-icon-button]:first-child{width:60px}.vdl-sidenav-list .vdl-sidenav-list-item{transition-property:width;transition-duration:.4s;transition:color .3s;cursor:pointer;display:flex;flex-direction:row;align-items:stretch;align-content:center;min-height:40px;max-height:60px;font-family:Roboto Light,sans-serif;transparency:70%;color:#d8d8d9;background-color:#202c34;outline:transparent}.vdl-sidenav-list .vdl-sidenav-list-item.sub-category-indent .category-spacer{width:45px}.vdl-sidenav-list .vdl-sidenav-list-item.selected{background-color:#32424d}.vdl-sidenav-list .vdl-sidenav-list-item.selected .category-spacer{border-left-color:#b1181e}.vdl-sidenav-list .vdl-sidenav-list-item .category-spacer{flex:0 0 auto;-ms-grid-row-align:stretch;align-self:stretch;width:15px;border-left:5px solid transparent}.vdl-sidenav-list .vdl-sidenav-list-item .category-icon{display:flex;flex:0 0 auto;align-self:stretch;align-items:center;width:20px;padding-right:10px}.vdl-sidenav-list .vdl-sidenav-list-item .category-icon .vdl-icon{height:20px;width:20px;font-size:20px;line-height:20px}.vdl-sidenav-list .vdl-sidenav-list-item .category-icon .vdl-icon::before{width:20px;height:20px}.vdl-sidenav-list .vdl-sidenav-list-item .category-name{flex:1 1 auto;display:flex;align-self:stretch;margin:11px 0;overflow:hidden;align-content:center;font-size:1rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-overflow:ellipsis}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander{min-width:40px;display:flex;align-items:center;justify-content:center}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander vdl-icon{height:16px;width:10px;line-height:16px;transition-duration:250ms;transition-property:transform}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander vdl-icon::before{font-size:1rem}.vdl-sidenav-list .vdl-sidenav-list-item div.category-expander vdl-icon.expanded{transform:rotate(-180deg)}.vdl-sidenav-list .vdl-sidenav-list-item button:focus vdl-icon{color:#d8d8d9}.vdl-sidenav-list .vdl-sidenav-list-item.vdl-sidenav-list-item-focus{background-color:#32424d}.vdl-sidenav-list .vdl-sidenav-list-item:hover{color:#fff}.vdl-sidenav-list [vdl-icon-button].focus,.vdl-sidenav-list [vdl-icon-button]:focus,.vdl-sidenav-list button.focus,.vdl-sidenav-list button:focus{background-color:#32424d}"],
            host: {
                // 'role': 'list', // todo(dhm): the list role is inside the template should probably have a container
                '[class.vdl-sidenav-list]': 'true',
                '[class.vdl-sidenav-list-collapse]': '!_opened'
            },
            viewProviders: [VdlIconRegistry],
            changeDetection: ChangeDetectionStrategy.OnPush,
            encapsulation: ViewEncapsulation.None
        }), 
        __metadata('design:paramtypes', [VdlIconRegistry])
    ], VdlSidenavList);
    return VdlSidenavList;
}());
export var VdlSidenavListModule = (function () {
    function VdlSidenavListModule() {
    }
    /** @deprecated */
    VdlSidenavListModule.forRoot = function () {
        return {
            ngModule: VdlSidenavListModule,
            providers: []
        };
    };
    VdlSidenavListModule = __decorate([
        NgModule({
            imports: [
                CommonModule,
                A11yModule,
                OverlayModule,
                VdlButtonModule,
                VdlIconModule,
                VdlToolbarModule,
            ],
            exports: [
                VdlSidenavList,
                VdlSidenavListItem,
            ],
            declarations: [
                VdlSidenavList,
                VdlSidenavListItem,
            ],
        }), 
        __metadata('design:paramtypes', [])
    ], VdlSidenavListModule);
    return VdlSidenavListModule;
}());
//# sourceMappingURL=sidenav-list.js.map